{"version":3,"file":"settings.min.js","sources":["settings.js"],"sourcesContent":["/** global jQuery, smtp_settings */\njQuery(function ($) {\n    var table = $('#smtp-test-table');\n    var button = $('#smtp_test');\n    button.click(function (e) {\n        var data = {\n            to: $('#smtp_to').val(),\n            subject: $('#smtp_subject').val(),\n            message: $('#smtp_message').val(),\n            action: 'smtp_test_email',\n            _ajax_nonce: smtp_settings.nonce\n        };\n\n        button.prop('disabled', true);\n        $.ajax({\n            method: 'POST',\n            url: smtp_settings.ajax_url,\n            data: data\n        }).done(function (response) {\n            table.siblings('.notice').remove();\n            table.before('<div class=\"notice notice-success inline\" role=\"alert\"><p>' + response.data + '</p></div>');\n        }).fail(function (response, a, b) {\n            var message;\n            if (response.responseJSON) {\n                message = response.responseJSON.data || 'Unknown error';\n            } else {\n                message = response.statusText;\n            }\n\n            table.siblings('.notice').remove();\n            table.before('<div class=\"notice notice-error inline\" role=\"alert\"><p>' + message + '</p></div>');\n        }).always(function() {\n            button.prop('disabled', false);\n        });\n    });\n});\n"],"names":["jQuery","$","table","button","click","e","data","to","val","subject","message","action","_ajax_nonce","smtp_settings","nonce","prop","ajax","method","url","ajax_url","done","response","siblings","remove","before","fail","a","b","responseJSON","statusText","always"],"mappings":"AACAA,QAAO,SAAUC,GACb,IAAIC,EAAQD,EAAE,oBACVE,EAASF,EAAE,cACfE,EAAOC,OAAM,SAAUC,GACnB,IAAIC,EAAO,CACPC,GAAIN,EAAE,YAAYO,MAClBC,QAASR,EAAE,iBAAiBO,MAC5BE,QAAST,EAAE,iBAAiBO,MAC5BG,OAAQ,kBACRC,YAAaC,cAAcC,OAG/BX,EAAOY,KAAK,YAAY,GACxBd,EAAEe,KAAK,CACHC,OAAQ,OACRC,IAAKL,cAAcM,SACnBb,KAAMA,IACPc,MAAK,SAAUC,GACdnB,EAAMoB,SAAS,WAAWC,SAC1BrB,EAAMsB,OAAO,6DAA+DH,EAASf,KAAO,iBAC7FmB,MAAK,SAAUJ,EAAUK,EAAGC,GAC3B,IAAIjB,EAEAA,EADAW,EAASO,aACCP,EAASO,aAAatB,MAAQ,gBAE9Be,EAASQ,WAGvB3B,EAAMoB,SAAS,WAAWC,SAC1BrB,EAAMsB,OAAO,2DAA6Dd,EAAU,iBACrFoB,QAAO,WACN3B,EAAOY,KAAK,YAAY"}